From e6e838332297a2296d5d763257a2565a05f2774b Mon Sep 17 00:00:00 2001
From: shinchiro <shinchiro@users.noreply.github.com>
Date: Sat, 17 Feb 2018 11:00:14 +0800
Subject: [PATCH] tls: temporarily revert 'Add tls/tls_keypair.c' commit

This breaks compilation on Mingw. See https://github.com/libressl-portable/portable/pull/386
---
 tls/CMakeLists.txt | 1 -
 tls/Makefile.am    | 1 -
 update.sh          | 3 ++-
 3 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/tls/CMakeLists.txt b/tls/CMakeLists.txt
index bc0c8f5..fbe6693 100644
--- a/tls/CMakeLists.txt
+++ b/tls/CMakeLists.txt
@@ -11,7 +11,6 @@ set(
 	tls_client.c
 	tls_config.c
 	tls_conninfo.c
-	tls_keypair.c
 	tls_server.c
 	tls_ocsp.c
 	tls_peer.c
diff --git a/tls/Makefile.am b/tls/Makefile.am
index bfe9571..bd2707a 100644
--- a/tls/Makefile.am
+++ b/tls/Makefile.am
@@ -23,7 +23,6 @@ libtls_la_SOURCES += tls_client.c
 libtls_la_SOURCES += tls_bio_cb.c
 libtls_la_SOURCES += tls_config.c
 libtls_la_SOURCES += tls_conninfo.c
-libtls_la_SOURCES += tls_keypair.c
 libtls_la_SOURCES += tls_server.c
 libtls_la_SOURCES += tls_ocsp.c
 libtls_la_SOURCES += tls_peer.c
diff --git a/update.sh b/update.sh
index f11aa04..26b729e 100755
--- a/update.sh
+++ b/update.sh
@@ -15,7 +15,8 @@ fi
 (cd openbsd
  git fetch
  git checkout $openbsd_branch
- git pull --rebase)
+ git pull --rebase
+ git reset --hard 223662ea513433a9ccc2cace29d93ab4d8025e33)
 
 # setup source paths
 CWD=`pwd`
-- 
2.16.1

